**Функциональная спецификация**

[Код из Реестра разработок]:[Наименование из Реестра разработок]

### Лист изменений

|  |  |  |  |
| --- | --- | --- | --- |
| Дата | Автор | Версия | Суть изменений |
| [Дата создания ФС] – должна | [Автор ФС]. | 0.01 | Документ создан. Предыдущих версий нет. |
| [Дата внесения изменения в ФС] | [Автор изменений] | 0.02 и т.д. | [Комментарий к изменениям. Кратко описываеи, что изменили, желательно в каком именно разделе ФС. В тексте спецификации начало новой версии обозначается ее номером и выделяется заливкой.] |

Оглавление

[1. Лист изменений 2](#_Toc201768507)

[2. Глоссарий (опционально) 4](#_Toc201768508)

[3. Предмет разработки 5](#_Toc201768509)

[4. Релиз конфигурации 5](#_Toc201768510)

[5. Дизайн объектов Системы 6](#_Toc201768511)

[6. Описание общих алгоритмов 13](#_Toc201768512)

[7. Описание интеграционных интерфейсов 14](#_Toc201768513)

[8. Техническая реализация 15](#_Toc201768514)

[9. Настройки системы, используемые разработкой 15](#_Toc201768515)

[*10.* Тестовый сценарий 16](#_Toc201768516)

1. Глоссарий (опционально)

|  |  |
| --- | --- |
| Сокращение | Расшифровка |
| [Термин/Аббревиатура] | [Расшифровка] |

1. Предмет разработки

[Верхнеуровневое описание разработки на бизнес-языке из реестра разработок + уточнение, если требуется.]

В данную спецификацию включаются следующие разработки из реестра разработок:

Cюда перенести строки из реестра разработок

|  |  |  |  |
| --- | --- | --- | --- |
| **Тип разработки** | **Сложность** | **Количество объектов при плановой оценке** | **Плановая оценка в ч.ч. (Оценка включает: проработка и написание ФС, разработка, тестирование, инструкции)** |
| Колонки Z-BG реестра требований (строка 1) | Колонки Z-BG реестра требований (строка 3) | Колонки Z-BG реестра требований (по каждой строке) | Колонка Х реестра требований |
| Колонки Z-BG реестра требований (строка 1) | Колонки Z-BG реестра требований (строка 3) | Колонки Z-BG реестра требований (по каждой строке) |
| Колонки Z-BG реестра требований (строка 1) | Колонки Z-BG реестра требований (строка 3) | Колонки Z-BG реестра требований (по каждой строке) |

|  |  |  |  |  |
| --- | --- | --- | --- | --- |
| **Процесс** | **№ разработки** | **Описание разработки** | **Код требования** | **Критичность требования** |
| Колонка С реестра разработок (БП 1-го уровня) | Колонка В реестра разработок | Колонка I реестра разработок | Колонка L реестра разработок | Колонка К реестра разработок |
| Колонка D реестра разработок (БП 2-го уровня) | Колонка L реестра разработок | Колонка К реестра разработок |

1. Релиз конфигурации

Оставить нужную строку

|  |  |  |
| --- | --- | --- |
| **Конфигурация** | **Номер версии** | **Платформа** |
| «1С:ERP WE» | 2.5.21.104 | 8.3.25.1546 |
| «1С: Управление холдингом» | 3.2.6.5 | 8.3.25.1546 |

### Дизайн объектов Системы

В данном разделе необходимо перечислить все объекты метаданных конфигурации, которые как добавляются, так и изменяются в ходе выполнения разработки по данной функциональной спецификации.

В зависимости от типа объекта метаданных необходимо указывать различные наборы свойств. Образцы для различных типов объектов метаданных ниже.

Шаблоны приведены в виде, если требуется добавление нового объекта. В случае, если требуется доработка существующего объекта, в основных свойствах объекта оставить строку «Новый объект», в которой указать значение «Нет», оставить строку «Имя», а также оставить строки тех свойств, значения которых изменились. Для таблиц полей, если требуется изменить значения свойств поля, в столбце «Новый» указать значение «Нет», в необходимом поле указать новое значение, остальные оставить без изменений. В случае, если необходимо расширить составной тип данных поля, не нужно указывать все типы данных, достаточно написать, например, «добавить тип Число (10,3)».

После описания свойств объектов метаданных типа «Справочник» и «Документ» необходимо описать специфические алгоритмы, касающиеся этого объекта метаданных данных, например, алгоритм ввода на основании, механизм заполнения табличной части документа и так далее. Это делается в случае, если в рамках реализации задачи по данной функциональной спецификации предполагается изменение/добавление таких алгоритмов. После описания каждого объекта метаданных вставляется таблица, в которой должен быть описан данный алгоритм. Пример: на форме документа нужно добавить кнопку, по нажатию на которую, происходит некоторый специфический пересчет данных в табличной части документа.Шаблон ниже.

1. ***Для констант:***

*Для* **Константа «ИмяКонстанты»**

|  |  |
| --- | --- |
| Новый объект | Да, если это новый объект метаданных, добавляемый в рамках данной спецификации, Нет – если объект уже существует. |
| Имя | Имя объекта конфигурации АХ\_ОбеспечениеСклада |
| Синоним | Синоним объекта конфигурации (как будет именоваться в пользовательском интерфейсе Обеспечение склада |
| Тип данных | Указать тип данных. Для числа указать длину целой и дробной части, для строки длину строки, |
| Назначение | Описать бизнес-логику дальнейшего использования объекта и основные взаимосвязи, а также влияние на смежные объекты. |

1. *Для ролей*

**Роль «ИмяРоли»**

|  |  |
| --- | --- |
| Новый объект | Да, если это новый объект метаданных, добавляемый в рамках данной спецификации, Нет – если объект уже существует. |
| Имя | Имя объекта конфигурации |
| Синоним | Синоним объекта конфигурации (как будет именоваться в пользовательском интерфейсе |

1. *Для перечислений*

**Перечисление «ИмяПеречисления»**

|  |  |
| --- | --- |
| Новый объект | Да, если это новый объект метаданных, добавляемый в рамках данной спецификации, Нет – если объект уже существует. |
| Имя | Имя объекта конфигурации |
| Синоним | Синоним объекта конфигурации (как будет именоваться в пользовательском интерфейсе |
| Назначение | Описать бизнес-логику дальнейшего использования объекта и основные взаимосвязи, а также влияние на смежные объекты. |

**Значения перечисления «ИмяПеречисления»**

|  |  |  |
| --- | --- | --- |
| **Имя элемента** | **Синоним элемента** | **Назначение** |
| ИмяЭлементаПеречисления | СинонимЭлементаПеречисления | Описание дальнейшей бизнес-логики использования значения перечисления |

1. ***Для справочников****:*

**Справочник «Имя справочника»**

|  |  |
| --- | --- |
| Новый объект | Да, если это новый объект метаданных, добавляемый в рамках данной спецификации, Нет – если объект уже существует. |
| Имя | Имя объекта конфигурации |
| Синоним | Синоним объекта конфигурации (как будет именоваться в пользовательском интерфейсе |
| Длина наименования | Максимальная длина наименования элемента справочника |
| Длина кода | Максимальная длина кода справочника |
| Иерархия | Выбрать из вариантов: «Элементов», «Групп и элементов», «Отсутствует» |
| Владельцы | Если справочник подчиненный, то указать имена (не синонимы) объектов метаданных-владельцев |
| Назначение | Описать бизнес-логику дальнейшего использования объекта и основные взаимосвязи, а также влияние на смежные объекты. |

**Реквизиты справочника [ИмяСправочника] (если имеются)**

|  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- |
| **Новый** | **Имя реквизита** | **Синоним** | **Тип данных** | **Обязательность заполнения** | **Назначение** |
| Да\Нет | Имя поля | Синоним реквизита | Указать тип данных | Выдавать ошибку/не проверять | Описание бизнес-логики дальнейшего использования значений реквизитов и алгоритм их заполнения |

**Табличные части справочника [ИмяСправочника]**

Табличная часть [ИмяТабличнойЧасти]

|  |  |
| --- | --- |
| Имя табличной части | Синоним |
| Имя объекта метаданных | Синоним объекта конфигурации |

**Реквизиты табличной части «ИмяТабличнойЧасти» справочника «ИмяСправочника»**

|  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- |
| **Новый** | **Имя реквизита** | **Синоним** | **Тип данных** | **Обязательность заполнения** | **Назначение** |
| Да\Нет | Имя поля | Синоним реквизита | Указать тип данных | Выдавать ошибку/не проверять | Описание бизнес-логику дальнейшего использования значений реквизитов и алгоритм их заполнения |

**Алгоритмы справочника [ИмяСправочника]**

|  |  |  |
| --- | --- | --- |
| № п\п | Способ вызова | Описание алгоритма |
| 1 | Указать каким способом вызывается данный алгоритм, например, по нажатию на кнопку. Если кнопку также нужно добавить описать это здесь, по возможно указав, в какую часть формы добавить кнопку | Детальное описание алгоритма, в том числе выборки данных (из каких таблиц), обработка данных, запись данных и так далее. Описать описать исключительные ситуации, например, реакцию системы на неправильный ввод данных |

**Роли справочника [ИмяСправочника]**

|  |  |
| --- | --- |
| Имя роли | Виды доступа |
| Имя, как оно названо в конфигураторе | Виды доступа, которые имеет указанна роль к справочнику: Чтение, Изменение и т.д. Можно указать так: все доступные виды доступа исключением таких-то |

1. ***Для регистров сведений:***

**Регистр сведений [ИмяРегистраСведений]**

|  |  |
| --- | --- |
| Новый объект | Да, если это новый объект метаданных, добавляемый в рамках данной спецификации, Нет – если объект уже существует. |
| Имя | Имя объекта конфигурации |
| Синоним | Синоним объекта конфигурации (как будет именоваться в пользовательском интерфейсе |
| Периодичность | Указать периодичность: непериодический, в пределах года, квартала, месяца, дня, секунды, по позиции регистратора |
| Режим записи | Независимый, либо подчинение регистратору |
| Регистратор | Перечислить список документов-регистраторов для регистра сведений |
| Назначение | Описать бизнес-логику дальнейшего использования объекта и основные взаимосвязи, а также влияние на смежные объекты. |

**Поля регистра сведений [ИмяРегистраСведений]**

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| **Новый** | **Тип поля** | **Имя реквизита** | **Синоним** | **Тип данных** | **Обязательность заполнения** | **Назначение** |
| Да\нет | Измерение, ресурс, реквизит | Имя поля | Синоним поля | Указать тип данных | Выдавать ошибку/не проверять | Описание бизнес-логику дальнейшего использования значений полей и алгоритм их заполнения |

**Роли регистра сведений [ИмяРегистраСведений]**

|  |  |
| --- | --- |
| Имя роли | Виды доступа |
| Имя, как оно названо в конфигураторе | Виды доступа, которые имеет указанна роль к регистру сведений: Чтение, Изменение и т.д. Можно указать так: все доступные виды доступа исключением таких-то. Указываются только те роли, доступ которым дается на объект метаданных в рамках данной спецификации. |

1. ***Для документов***

**Документ [ИмяДокумента]**

|  |  |
| --- | --- |
| Новый объект | Да, если это новый объект метаданных, добавляемый в рамках данной спецификации, Нет – если объект уже существует. |
| Имя | Имя объекта конфигурации |
| Синоним | Синоним объекта конфигурации (как будет именоваться в пользовательском интерфейсе |
| Длина номера | Максимальная длина номера документа |
| Проведение документа | Указать один из вариантов «Запретить»/»Разрешить» |
| Оперативное проведение | Указать один из вариантов «Запретить»/»Разрешить» |
| Назначение | Описать бизнес-логику дальнейшего использования объекта и основные взаимосвязи, а также влияние на смежные объекты. |

**Реквизиты документа [ИмяДокумента]**

|  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- |
| **Новый** | **Имя реквизита** | **Синоним** | **Тип данных** | **Обязательность заполнения** | **Назначение** |
| Да\Нет | Имя поля | Синоним реквизита | Указать тип данных | Выдавать ошибку/не проверять | Описание бизнес-логику дальнейшего использования значений реквизитов и алгоритм их заполнения |

**Табличные части документа [ИмяДокумента]**

Табличная часть [ИмяТабличнойЧасти]

|  |  |
| --- | --- |
| Имя табличной части | Синоним |
| Имя объекта метаданных | Синоним объекта конфигурации |

**Реквизиты табличной части [ИмяТабличнойЧасти] документа [ИмяДокумента]**

|  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- |
| **Новый** | **Имя реквизита** | **Синоним** | **Тип данных** | **Обязательность заполнения** | **Назначение** |
| Да\Нет | Имя поля | Синоним реквизита | Указать тип данных | Выдавать ошибку/не проверять | Описание бизнес-логику дальнейшего использования значений реквизитов и алгоритм их заполнения |

**Алгоритмы документа [ИмяДокумента]**

|  |  |  |
| --- | --- | --- |
| № п\п | Способ вызова | Описание алгоритма |
| 1 | Указать каким способом вызывается данный алгоритм, например, по нажатию на кнопку. Если кнопку также нужно добавить описать это здесь, по возможно указав, в какую часть формы добавить кнопку | Детальное описание алгоритма, в том числе выборки данных (из каких таблиц), обработка данных, запись данных и так далее. Описать описать исключительные ситуации, например, реакцию системы на неправильный ввод данных |

**Роли документа [ИмяДокумента]**

|  |  |
| --- | --- |
| Имя роли | Виды доступа |
| Имя, как оно названо в конфигураторе | Виды доступа, которые имеет указанна роль к документу: Чтение, Изменение и т.д. Можно указать так: все доступные виды доступа исключением таких-то. Указываются только те роли, доступ которым дается на объект метаданных в рамках данной спецификации. |

**Печатные формы документа [ИмяДокумента]**

***Печатная форма [ИмяПечатнойФормы] документа [ИмяДокумента]***

Если в рамках функциональной спецификации необходимо создать новую печатную форму, необходимо в этом разделе показать или вложить макет печатной формы, а также описано алгоритм заполнения полей печатной формы. Макет может быть в виде вложенного файла.

Также необходимо описать существенные условия, которые должны учитываться при печати формы. Например, форма должна печататься только в том случае, если значение какого-то реквизита документа равно определленому значению. Алгоритм заполнения полей сделать в виде таблицы, пример ниже:

|  |  |  |  |
| --- | --- | --- | --- |
| № п\п | Поле макета ПФ | Поле документа | Алгоритм заполнения |
| 1 | АдресДоставки | АдресДоставки1 | Значение реквизита документа |
| 2 | ГенеральныйДиректор | Может быть не указано | Получить ФИО генерального дирекитора организации так, как это реализовано в печатной форме «ТОРГ-12» |

1. ***Для регистров накопления***

**Регистр накопления [ИмяРегистраНакопления]**

|  |  |
| --- | --- |
| Новый объект | Да, если это новый объект метаданных, добавляемый в рамках данной спецификации, Нет – если объект уже существует. |
| Имя | Имя объекта конфигурации |
| Синоним | Синоним объекта конфигурации (как будет именоваться в пользовательском интерфейсе |
| Вид регистра | Одно из значений «Остатки» или «Обороты» |
| Периодичность | Указать периодичность: в пределах года, квартала, месяца, дня, секунды, по позиции регистратора |
| Регистраторы (приход) | Перечислить список документов-регистраторов для регистра накопления с видом «Остатки», указать имена объектов метаданных, например «ЗаказКлиента» |
| Регистраторы (расход) | Перечислить список документов-регистраторов для регистра накопления с видом «Остатки», указать имена объектов метаданных, например «ЗаказКлиента» |
| Регистраторы | Перечислить список документов-регистраторов для регистра накопления с видом «Обороты», указать имена объектов метаданных, например «ЗаказКлиента» |
| Назначение | Описать бизнес-логику дальнейшего использования объекта и основные взаимосвязи, а также влияние на смежные объекты. |

**Поля регистра накопления [ИмяРегистраНакопления]**

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| **Новый** | **Тип поля** | **Имя реквизита** | **Синоним** | **Тип данных** | **Обязательность заполнения** | **Назначение** |
| Да\Нет | Измерение, ресурс, реквизит | Имя поля | Синоним поля | Указать тип данных | Выдавать ошибку/не проверять | Описание бизнес-логику дальнейшего использования значений полей и алгоритм их заполнения |

1. **Для отчетов**

**Отчет [ИмяОтчета]**

|  |  |
| --- | --- |
| Новый объект | Да, если это новый объект метаданных, добавляемый в рамках данной спецификации, Нет – если объект уже существует. |
| Имя | Имя объекта конфигурации |
| Синоним | Синоним объекта конфигурации (как будет именоваться в пользовательском интерфейсе |

Разработку отчета удобнее описывать в виде таблицы с необходимым набором полей. В макете необходимо указать наименования полей, а также алгоритм, который описывает способ заполнения данного поля. Перед таблицей описать какие, в принципе, таблицы объектов метаданных являются источниками для данного отчета.

|  |  |  |  |  |
| --- | --- | --- | --- | --- |
| **Заголовок поля 1** | **Заголовок поля 2** | **Заголовок поля 3** | **Заголовок поля 4** | **Заголовок поля 5** |
| **Контрагент** | **Договор** | **Документ** | **Сумма документа** | **Сумма долга** |
| **Значение измерения «Контрагент» регистра накопления «Взаиморасчеты»** | **Значение измерения «Договор» регистра накопления «Взаиморасчеты»** | **Значение измерения «РасчетныйДокумент» регистра накопления «Взаиморасчеты»** | **Значение реквизита «Сумма» значения измерения «Документ»** | **Остаток по измерению «СуммаДогла» на дату окончания периода формирования отчета** |

Если в отчете используется определенный набор полей для настройки отбора данных, расшифровка определенных ячеек отчета по определенному алгоритму, это также необходимо описать

1. ***Для обработок***

**Обработка [ИмяОбработки]**

|  |  |
| --- | --- |
| Новый объект | Да, если это новый объект метаданных, добавляемый в рамках данной спецификации, Нет – если объект уже существует. |
| Имя | Имя объекта конфигурации |
| Синоним | Синоним объекта конфигурации (как будет именоваться в пользовательском интерфейсе |
| Назначение | Описать бизнес-логику дальнейшего использования объекта и основные взаимосвязи, а также влияние на смежные объекты. |

**Поля обработки [ИмяОбработки]**

|  |  |  |  |  |
| --- | --- | --- | --- | --- |
| **Новый** | **Имя реквизита** | **Синоним** | **Тип данных** | **Назначение** |
| Да\Нет | Имя поля | Синоним поля | Указать тип данных | Описание дальнейшего использования значений полей и алгоритм их заполнения |

**Алгоритмы обработки [ИмяОбработки]**

|  |  |  |
| --- | --- | --- |
| № п\п | Способ вызова | Описание алгоритма |
| 1 | Указать каким способом вызывается данный алгоритм, например, по нажатию на кнопку. Если кнопку также нужно добавить описать это здесь, по возможно указав, в какую часть формы добавить кнопку | Детальное описание алгоритма, в том числе выборки данных (из каких таблиц), обработка данных, запись данных и так далее. Описать описать исключительные ситуации, например, реакцию системы на неправильный ввод данных |

1. Описание общих алгоритмов

В случае, если требуется создание/изменение некоторых алгоритмов, которые напрямую не связаны с конкретными объектами метаданных, например, регламентные операции, алгоритмы запускающиеся из автоматизированных рабочих мест, алгоритмы запускаемые в результате интеграции данных и т.д., такие алгоритмы необходимо описать в данном разделе.

Обязательно описать исключительные ситуации при работе алгоритмов, например, алгоритм сталкивается при обрабоке некоторых данных с некорректными свойствами этих данных и прекращает свою работу, при этом производит оповещения пользователю, производит записи в журнал регистрации и так далее.

1. Описание интеграционных интерфейсов

В случае, если в рамках функциональной спецификации предполагается реализация механизма обмена данными между системой, которая указана в разделе 4 (релиз конфигурации), необходимо описание механизма интеграции сформировать в данном разделе.

Если поток данных направлен в разрабатываемую систему, то необходимо описать какие объекты конфигурации создаются/изменяются на основании интеграционных сообщений, получаемых из внешней системы. Кратко записать существенные параметры и требования, касающие интеграционного потока, например, а также триггер(ы), по наступлению которых запускается процесс интеграции, например: «При получении данных из внешнений системы создавать или изменять документ «Заказ клиента». Далее, необходимо в табличном виде привести соответствие полей входящего интеграционного сообщения и объектов и полей разрабатываемой системы

Пример заполнения:

|  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- |
| № п\п | Внешняя система | Поле сообщеня внешней систеимы | Объект целевой системы | Поле объекта | Алгоритм обработки |
| 1 | CRM-система | IdCustomer | Документ «ЗаказКлиента» | Партнер | Произвести поиск по уникальному идентификатору справочника «Партнеры» |
| 2 | CRM-система | AmountSum | Документ «ЗаказКлиента» | СуммаДокумента | Преобразовать в тип «Число (15, 2)» |

В случае, если разрабатываемая система является источником данных для внешней системы, на стороне разрабатываемой системы необходимо сформировать интеграционное сообщения определенного формата и отправить его во внешнюю систему. Необходимо описать объекты метаданных и их поля, которые являются источником для заполнения интеграционного сообщения, алгоритм заполнения сообщения, а также триггер запуска интеграционного процесса. Например: «При записи документа «СчетФактураВыданный» формирование сообщение формата CSV и выгружать его на FTP-сервер».

Соответствие объектов и полей объектов разрабатываемой системы указать в табличном виде.

Пример заполнения:

|  |  |  |  |  |
| --- | --- | --- | --- | --- |
| № п\п | Объект целевой системы | Поле объекта | Поле сообщения | Алгоритм обработки |
| 1 | Документ «Счет фактура выданный» | Партнер | Customer | Значение реквизита «Код» элемента справочника «Партнеры» |
| 2 | Документ «Счет фактура выданный»» | СуммаДокумента | Sum | Значение реквизитя округлить до целых рублей всегда в большую сторону. |

1. Техническая реализация

Данный раздел заполняется разработчиком, который выполняет задачу по данной спецификации. Необходимо записать следующие действия с конфигурацией:

1. Добавление нового общего модуля конфигурации
2. Изменение свойств общего модуля конфигурации (имя, синоним, признаки)
3. Добавление процедуры или функции в общие модули, модули форм, модули менежеров, модули объектов (наборов записей) метаданных конфигурации.
4. Изменение процедуры или функции в общих модулях, модулях форм, модулях менеджеров, модулях объектов (наборах записей) метаданных конфигурации.
5. Изменение свойств реквизитов (измерений, ресурсов) объектов метаданных, которые не отражены в дизайне, но разработчик посчитал нужным внести изменения, например, свойство «Индексирование».

В этом разделе не нужно приводить листинги кода, достаточно зафиксировать факт изменения/добавления того или иного модуля, процедуры, функции, свойств объектов метаданных.

### Настройки системы, используемые разработкой

В данном разделе необходимо описать полный контекст на уровне данных и настроек прикладного решение, в рамках которых будет работать разработки по данной функциональной спецификацией. Под контекстом понимаются и настройки, которые нужно выполнить в системе, например, параметры учетной политики собственных организаций, и другие данные, например, установленные цены, скидки и т.д., наличие которых имеет значение для коррректной работы разработанного механизма.

Описание настроек произвольное, например, можно словесно описать, как найти ту или иную настройку в интерфейсе и в какое значение ее нужно установить.

В случае, если в рамках данной спецификации добавляются объекты метаданные, предназначенные для настройки, то заполнение этих настроек также описывается в этом разделе.

### Тестовый сценарий

Описать тестовые наборы данных: название объектов, перечень операций, входные данные. (очень кратко).

Тестовый сценарий должен содержать:

1. Роль, которая выполняет действия сценария
2. Входные данные сценария
3. Результаты сценария.